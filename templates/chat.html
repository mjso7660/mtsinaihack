<!------ Include the above in your HEAD tag ---------->


<html>
<head>

<link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/chat.css') }}">

</head>
<body>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js"></script>
    <script type="text/javascript">
      var socket = io.connect('http://' + document.domain + ':' + location.port);
      socket.on( 'connect', function() {
        socket.emit( 'my event', {
          data: 'User Connected'
        } )
        var form = $( 'form' ).on( 'submit', function( e ) {
          e.preventDefault()
          let user_input = $( 'input.write_msg' ).val()
          socket.emit( 'my event', {
            message : user_input
          } )
          $( 'input.message' ).val( '' ).focus()
	  this.reset();
        } )
      } )
      socket.on( 'my response', function( msg ) {
	if(typeof msg.message!=='undefined'){
          var dt = new Date()
	        $( 'div.msg_history').append('<div class="outgoing_msg"><div class="sent_msg"><p>'+msg.message+'</p><span class="time_date"> </span> </div></div>')
	}
      })
      socket.on( 'your response', function( msg ) {
	if(typeof msg.message!=='undefined'){
	        $( 'div.msg_history').append('<div class="incoming_msg"><div class="incoming_msg_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div><div class="received_msg"><div class="received_withd_msg"><p>'+msg.message+'</p><span class="time_date"> </span> </div></div></div>')
	}
      })
    </script>

<div class="container">
<h3 class=" text-center">Messaging</h3>
<div class="messaging">
      <div class="inbox_msg">
        <div class="inbox_people">
          <div class="headind_srch">
            <div class="recent_heading">
              <h4>Recent</h4>
            </div>
            <div class="srch_bar">
              <div class="stylish-input-group">
                <input type="text" class="search-bar"  placeholder="Search" >
                <span class="input-group-addon">
                <button type="button"> <i class="fa fa-search" aria-hidden="true"></i> </button>
                </span> </div>
            </div>
          </div>
          <div class="inbox_chat">
            <div class="chat_list active_chat">
              <div class="chat_people">
                <div class="chat_img"> <img src="http://2014.igem.org/wiki/images/f/fe/Cooper-Union.png"></div>
                <div class="chat_ib">
                  <h5>MediCooper<span class="chat_date">Oct 21</span></h5>
		  <p>How can I help you today?</p>
                </div>
              </div>
            </div>
            <div class="chat_list">
              <div class="chat_people">
                <div class="chat_img"> <img src="https://amp.businessinsider.com/images/5899ffcf6e09a897008b5c04-750-750.jpg"></div>
                <div class="chat_ib">
                  <h5>Dr. Park<span class="chat_date">Oct 20</span></h5>
                  <p>Turner syndrome can cause a variety of medical and developmental problems, including short height, failure of the ovaries to develop and heart defects.</p>
                    
                </div>
              </div>
            </div>
            <div class="chat_list">
              <div class="chat_people">
                <div class="chat_img"> <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTTyWlY1SRu2M653bjl0x_cgk_NY4xidK9xalcVjaOa6L0F1ttfcA"></div>
                <div class="chat_ib">
                  <h5>Brittle Bone Disease Community<span class="chat_date">Oct 19</span></h5>
		  <p>Turner syndrome may be diagnosed before birth (prenatally), during infancy or in early childhood. </p>
                </div>
              </div>
            </div>
            <div class="chat_list">
              <div class="chat_people">
                <div class="chat_img"> <img src="https://i.stack.imgur.com/rYsym.png"></div>
                <div class="chat_ib">
                  <h5>Anonymous Blue<span class="chat_date">Oct 18</span></h5>
		  <p>Clinical signs may vary from person to person (clinical heterogeneity), even within families.</p>
                </div>
              </div>
            </div>
            <div class="chat_list">
              <div class="chat_people">
                <div class="chat_img"> <img src="https://avatars1.githubusercontent.com/u/540587?s=88&v=4"></div>
                <div class="chat_ib">
                  <h5>Anonymous Green<span class="chat_date">Oct 18</span></h5>
		  <p>Turner syndrome, a condition that affects only females, results when one of the X chromosomes (sex chromosomes) is missing or partially missing. </p>
                </div>
              </div>
            </div>
            <div class="chat_list">
              <div class="chat_people">
                <div class="chat_img"> <img src="https://avatars3.githubusercontent.com/u/9485711?s=88&v=4" alt="sunil"> </div>
                <div class="chat_ib">
                  <h5>Anonymous Purple <span class="chat_date">Oct 17</span></h5>
                  <p>Test, which is a new approach to have all solutions 
                    astrology under one roof.</p>
                </div>
              </div>
            </div>
            <div class="chat_list">
              <div class="chat_people">
                <div class="chat_img"> <img src="https://ptetutorials.com/images/user-profile.png" alt="sunil"> </div>
                <div class="chat_ib">
                  <h5>Sunil Rajput <span class="chat_date">Oct 16</span></h5>
                  <p>Test, which is a new approach to have all solutions 
                    astrology under one roof.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      <div class="mesgs"> 
          <div class="msg_history"> 
            <div class="incoming_msg"> 
              <div class="incoming_msg_img"> <img src="http://2014.igem.org/wiki/images/f/fe/Cooper-Union.png" alt="sunil"> </div> 
              <div class="received_msg"> 
                <div class="received_withd_msg"> 
                  <p>How can I help you?</p>
                  <span class="time_date"> </span></div> 
              </div> 
            </div> 
	    <div class="message_holder"> 
            </div> 

          </div> 

          <div class="type_msg"> 
            <div class="input_msg_write"> 
	      <form action="" method="POST">
		      <input type="text" class="write_msg" placeholder="Type a message" /> 
		      <div class="msg_send_btn">
		              <input type="submit" class="msg_send_btn"></div>
	      </form>
            </div> 
          </div> 
        </div> 
      </div> 

      
      
      <p class="text-center top_spac"> Design by <a target="_blank" href="#">Sunil Rajput</a></p>
      
    </div></div>

    </body>
    </html>
